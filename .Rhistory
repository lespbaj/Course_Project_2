View (dataMatrix)
rep(c(0,3),each=5)
rep(c(0,2,3),each=5)
nxt()
heatmap(dataMatrix)
mat
svd(mat)
matu %*% diag %*% t(matv)
svd(mat)
svd(sclale(mat)
)
svd(scale(mat))
prcomp(scale(mat))
play()
dataMatrix
nxt()
svd1$v[,1]
svd1$d
head(constantMatrix)
svd2$d
svd2$v[,1:2]
svd2$d
dim(faceData)
svd1$u[,1] %*% svd1$d[1]
svd1$u[,1] %*% svd1$d[1]
dm( svd1$u)
dim( svd1$u)
svd$u[,1] * svd1$d [1] %*% t(svd1$v[,1])
svd1$u[,1] * svd1$d [1] %*% t(svd1$v[,1])
a1 <- (svd1$u[,1] * svd1$d[1]) %*% t(svd1$v[,1])
View(myImage)
View(myImage)
myImage(a1)
a2  <- svd1$u[,1:2] %*% diag(svd1$d[1:2]) %*% t(svd1$v[,1:2])
myImage(a2)
a2  <- svd1$u[,1:5] %*% diag(svd1$d[1:5]) %*% t(svd1$v[,1:5])
a5  <- svd1$u[,1:5] %*% diag(svd1$d[1:5]) %*% t(svd1$v[,1:5])
myImage(svd1$u[,1:5] %*% diag(svd1$d[1:5]) %*% t(svd1$v[,1:5]))
myImage(svd1$u[,1:10] %*% diag(svd1$d[1:10]) %*% t(svd1$v[,1:10]))
dim(ssd)
names(ssd(,562:563))
names(ssd[,562:563])
table(ssd$subject)
sum(table(ssd$subject))
table(ssd$activity)
sub1  <- subset(ssd, subject = 1)
sub1  <- subset(ssd, subject == 1)
dim(sub1)
names(sb1[,1:12])
names(sub1[,1:12])
myedit("showXT.R")
myedit("showXY.R")
showMe(1:6)
mdist <- dist(ssd[,1:3])
mdist <- dist(sub1[,1:3])
hclustering  <- hclust(mdist)
play()
mdist
nxt()
myplclust(hclustering, lab.col = unclass(sub1$activity))
mdist  <- dist(sub1[,10:12])
hclustering  <- hclust(mdist)
myplclust(hclustering, lab.col = unclass(sub1$activity))
svd1  <- svd(scale(sub1[,-c(562:563)]))
svd1$u
dim(svd1$u)
maxCon  <- which.max(sub1$v[,2])
maxCon <- which.max(svd1$v[,2])
mdist  <- dist(sub1[,10:12])
mdist <- dist(sub1[,c(10:12,maxCon)])
hclustering <- hclust(mdist)
myplclust(hclustering, lab.col=unclass(sub1$activity))
names(sub1[macCon])
names(sub1[maxCon])
kClust  <- kmeans(sub1[,-c(562, 563)], centers = 6)
table(kClust$cluster, sub1$activity)
kClust  <- kmeans(sub1[,-c(562, 563)], centers = 6, nstart = 100)
table(kClust$cluster, sub1$activity)
dim(kClust$centers)
which(kClust$size==29)
laying <- which(kClust$size==29)
plot(kClust$centers[laying,1:12] pch = 19, ylab ="Laying Cluster")
plot(kClust$centers[laying,1:12], pch = 19, ylab ="Laying Cluster")
names(sub[,1:3])
names(sub1[,1:3])
walkdown  <- which((kClust))
walkdown  <- which((kClust$size ==49))
which(kClust$size==49)
walkdown <- which(kClust$size==49)
plot(kClust$centers[walkdown,1:12], pch = 19, ylab ="Walkdown Cluster" )
dim(pm0)
head(pm0)
cnames
strsplit(cnames, "|", fixed= TRUE)
cnames <-strsplit(cnames, "|", fixed = TRUE)
cnames
names(pm0) <- cnames[[1]][wcol]
names(pm0) <- make.names(cnames[[1]][wcol])
head(pm0)
x0  <- pm0$Sample.Value
str(x0)
mean(is.na(x0))
names(pm1) <- make.names(cnames[[1]][wcol])
dim(pm1)
x1  <- pm1$Sample.Value
mean(is.na(x1))
summary(x0)
summary(x1)
boxplot(x0, x1)
boxplot(log(x0), log(x1))
boxplot(log10(x0), log10(x1))
negative  <-  x1 < 0
play()
negative
nxt()
sum(negative, na.rm = TRUE)
mean(negative, na.rm = TRUE)
dates <- pm1$Date
str(dates)
dates <- as.Date(as.character(dates), "%Y%m%d")
head(dates)
hist(dates[negative], "month")
str(site0)
intersect(site0, site1)
both <- intesect(site0, site1)
both <- intersect(site0, site1)
both
head(pm0)
cnt0 <- subset(pm0, State.Code ==36 & county.site %in% boyh)
cnt0 <- subset(pm0, State.Code ==36 & county.site %in% both)
cnt1 <- subset(pm1, State.Code ==36 & county.site %in% both)
sapply(split(cnt0, cnt0$county.site), nrow)
play()
tapply(cnt0, county.site, nrow)
head(cnt0)
tapply(cnt0, cnt0$county.site, nrow)
tapply(cnt0$county.site, cnt0$county.site, nrow)
str(cnt0$county.site)
tapply(cnt0, cnt0$county.site, nrow)
tapply(cnt0$Sample.Value, cnt0$county.site, nrow)
tapply(cnt0$Site.ID, cnt0$county.site, nrow)
tapply(cnt0$Site.ID, cnt0$county.site, count)
nxt()
sapply(split(cnt1, cnt0$county.site), nrow)
sapply(split(cnt1, cnt01$county.site), nrow)
sapply(split(cnt1, cnt1$county.site), nrow)
pm0sub <-subset(cnt0, County.Code ==63 & Site.ID ==2008)
pm1sub <-subset(cnt1, County.Code ==63 & Site.ID ==2008)
x0sub <- pm0sub$Sample.Value
x1sub <- pm1sub$Sample.Value
dates0 <- as.Date(as.character(pm0sub$Date), "%Y%m%d")
dates1 <- as.Date(as.character(pm1sub$Date), "%Y%m%d")
par(mfrow= c(1,2), mar= c(4,4,2,1))
with(dates0, x0sub, pch=20)
plot(dates0, x0sub, pch=20)
abline(h = mean(x0sub), na.rm= TRUE)
abline(h = mean(x0sub, na.rm= TRUE))
abline(h = median(x0sub, na.rm = TRUE),lwd=2)
plot(dates1, x1sub, pch=20)
abline(h = median(x1sub, na.rm = TRUE),lwd=2)
rng(x0sub, x1sub, na.rm = TRUE)
rng  <- range(x0sub, x1sub, na.rm = TRUE)
rng
mn0  <- whith (pm0, tapply(Sample.Value, State.Code, mean, na.rm= TRUE))
mn0  <- with (pm0, tapply(Sample.Value, State.Code, mean, na.rm= TRUE))
str(mn0)
mn1  <- with (pm1, tapply(Sample.Value, State.Code, mean, na.rm= TRUE))
str(mn1)
summary(mno)
summary(mn0)
summary(mn1)
d0  <- data.frame(state = names(mn0), mean = mn0)
d1  <- data.frame(state = names(mn1), mean = mn0)
d1  <- data.frame(state = names(mn1), mean = mn1)
mrg  <- merge (d0, d1, by = "state")
dim(mrg)
head(mrg)
with(mrg, plot(rep(1,52),  mrg[,2], xlim(.5, 2.5)))
with(mrg, plot(rep(1,52),  mrg[,2], ylim(.5, 2.5)))
with(mrg, plot(rep(1,52),  mrg[,2]), xlim(.5, 2.5))
with(mrg, plot(rep(1, 52), mrg[, 2], xlim = c(.5, 2.5)))
with(mrg, points(rep(2,52), mrg[,3]))
segments(rep(1,52), mrg[,2], rep(1,52), mrg[,3])
segments(rep(1,52), mrg[,2], rep(2,52), mrg[,3])
mrg[mrg$mean.x < mrg$mean.y]
mrg[mrg$mean.x < mrg$mean.y,]
source("~/GitHub/Course_Project_2/Plot1.R")
source("~/GitHub/Course_Project_2/plot2.R")
source("~/GitHub/Course_Project_2/SourceCode.R")
nei  <- nei()
str(nei)
scc  <- scc()
str(scc)
source("~/GitHub/Course_Project_2/SourceCode.R")
?merge
source("~/GitHub/Course_Project_2/SourceCode.R")
mrg  <- mrg(nei, scc, "SCC")
source("~/GitHub/Course_Project_2/SourceCode.R")
mrg  <- mrg(nei, scc, "SCC")
View(yearx)
View(yearx)
View(xxx)
View(xxx)
str(scc)
source("~/GitHub/Course_Project_2/SourceCode.R")
source("~/GitHub/Course_Project_2/SourceCode.R")
SCC  <-  scc()
NEI  <-  nei()
MRG  <-  mrg(SCC, NEI, "SCC")
str(MRG)
library(dplyr)
view   <- MRG[fips == "24510",] %>% select (MRG$type, MRG$year, MRG$Emissions)
view   <- MRG[fips == "24510",]
MRG[fips == "24510",]
MRG[MRG$fips=="24510",]
view   <- MRG[MRG$fips=="24510",] %>% select (MRG$type, MRG$year, MRG$Emissions)
View (MRG[MRG$fips=="24510",])
view   <- MRG[MRG$fips=="24510",] %>% select (type, year, Emissions)
View(view)
library(dplyr)
source("~/GitHub/Course_Project_2/SourceCode.R")
NEI  <- nei()
str(NEI)
x <-NEI %>% group_by(year) %>% summarise (sum(Emissions)/1000000)
colnames(x) <- c("year", "total_PM2.5" )
with( x, {
barplot(total_PM2.5, ylab = "Total PM2.5", ylim = c(0, 10), names.arg = year, col="steelblue")
text(year, total_PM2.5 + 1, labels = as.character(round(total_PM2.5,2)))
lines(total_PM2.5,  lwd = 2,col="red",lty=1)
mtext(2,text="(in Millions)",line=2)
})
title(main="Total Emissions PM2.5 Tons in millions per year", outer = T)
x  <- NEI %>% filter(fips == "24510")  %>%   group_by(year)  %>% summarise(sum(Emissions))
colnames(x) <- c("year", "total_PM2.5" )
x  <- NEI %>% filter(fips == "24510")  %>%   group_by(year)  %>% summarise(sum(Emissions))
colnames(x) <- c("year", "total_PM2.5" )
x  <- NEI %>% filter(fips == "24510")  %>%   group_by(year)  %>% summarise(sum(Emissions))
colnames(x) <- c("year", "total_PM2.5" )
par (mfcol = c(1,2), mar=c(1,1,1,1), oma = c(0,0,2,0))
with(x ,{
barplot(x$total_PM2.5, ylab = "Total PM2.5",xlab = "years", ylim = c(0, 5000), names.arg = x$year, col="steelblue")
text(year, total_PM2.5 + 100, labels = as.character(round(x$total_PM2.5)))
lines( total_PM2.5, lwd = 2,col="red",lty=1)
mtext(2,text="Total",line=2, outer= TRUE)
}
)
with(x ,{
plot ( year,  total_PM2.5 , col = "red", pch = 3, ylim= c(0,5000), ylab = "Total PM2.5", xlab = "years")
lo <- lm(total_PM2.5~year)
abline(lo, col="green", lty ="dotdash")
text (x= 2004, 2800, "linear regession", srt = -23, col = "green")
title(main="Total PM2.5 Tons per year", outer = T)
}
)
library(ggplot2)
x <- NEI  %>% filter(fips == "24510")  %>%  group_by(across(c(year, type))) %>%  summarise (sum(Emissions))
colnames(x) <- c("year", "type", "Emissions")
x <- NEI  %>% filter(fips == "24510")  %>%  group_by(across(c(year, type))) %>%  summarise (sum(Emissions))
colnames(x) <- c("year", "type", "Emissions")
g <-ggplot(x)
g + geom_point (aes(x$year, x$Emissions, color=x$type), lwd = 4 ) +
geom_line (aes(x$year, x$Emissions, color=x$type)   )
x <- inner_join(NEI, SCC, by = c("SCC" = "SCC"))
y  <-  x %>% filter (grepl('[Cc]oal', x$SCC.Level.Three)) %>% group_by(year) %>% summarise(sum(Emissions))
g  <-  ggplot(y)
g + geom_col(aes(y$year, y$`sum(Emissions)`),col="steelblue") + geom_line(aes(y$year, y$`sum(Emissions)`), lwd = 2, col = "green") + geom_point(aes(y$year, y$`sum(Emissions)`), lwd = 4 , col = "red") + labs( x= "years", y = "Emissions uin Tons") + ggtitle( "Coal Emissions in Tons")
source("~/GitHub/Course_Project_2/SourceCode.R")
View(SCC)
MRG <- mrg(NEI, SCC, "SCC")
source("~/GitHub/Course_Project_2/SourceCode.R")
source("~/GitHub/Course_Project_2/SourceCode.R")
MRG <- mrg(NEI, SCC, "SCC")
source("~/GitHub/Course_Project_2/SourceCode.R")
MRG <- mrg(NEI, SCC, "SCC")
View (head(MRG))
View (head(MRG[fips == "24510",], n= 30))
View (head(MRG[MRG$fips == "24510",], n= 30))
View (head(MRG[MRG$fips == "24510" & type == 'ON-ROAD',], n= 30))
View (head(MRG[MRG$fips == "24510" & MRG$type == 'ON-ROAD',], n= 30))
View (head(MRG[MRG$fips == "24510" & (MRG$type == 'ON-ROAD' | gerp([Vv]ehicle, MRG$EI.Sector),], n= 30))
View (head(MRG[MRG$fips == "24510" & MRG$type == 'ON-ROAD' | gerp([Vv]ehicle, MRG$EI.Sector,], n= 30))
View (head(MRG[MRG$fips == "24510" & MRG$type == 'ON-ROAD' & gerp([Vv]ehicle, MRG$EI.Sector,], n= 30))
View (head(MRG[MRG$fips == "24510" & MRG$type == 'ON-ROAD' & gerp('[Vv]ehicle', MRG$EI.Sector,], n= 30))
View (head(MRG[MRG$fips == "24510" & MRG$type == 'ON-ROAD' & gerp("[Vv]ehicle", MRG$EI.Sector,], n= 30))
MRG[MRG$fips == "24510" & MRG$type == 'ON-ROAD' & gerp("[Vv]ehicle", MRG$EI.Sector,]
View (head(MRG[MRG$fips == "24510" & MRG$type == 'ON-ROAD' & gerp("[Vv]ehicle", MRG$EI.Sector),], n= 30))
View (head(MRG[MRG$fips == "24510" & MRG$type == 'ON-ROAD' & grep("[Vv]ehicle", MRG$EI.Sector),], n= 30))
View (head(MRG[MRG$fips == "24510" & (MRG$type == 'ON-ROAD' | grep("[Vv]ehicle", MRG$EI.Sector)),], n= 30))
View (head(MRG[MRG$fips == "24510" & (MRG$type == 'ON-ROAD' ),], n= 30))
View (head(MRG[MRG$fips == "24510" && (MRG$type == 'ON-ROAD' ),], n= 30))
View (head(MRG[MRG$fips == "24510" & (MRG$type == 'ON-ROAD' ),], n= 30))
library(dplyr)
EX4 <-MRG %>% filter(fips == "24510" )
View(EX4)
EX4 <-MRG %>% filter(fips == "24510" && MRG$type == 'ON-ROAD' )
EX4 <-MRG %>% filter(fips == "24510" & MRG$type == 'ON-ROAD' )
EX4 <-MRG %>% filter(fips == "24510" & MRG$type == 'ON-ROAD' |grep("[Vv]ehicle", MRG$EI.Sector) )
EX4 <-MRG %>% filter(fips == "24510" & (MRG$type == 'ON-ROAD' |grep("[Vv]ehicle", MRG$EI.Sector)) )
EX4 <-MRG %>% filter(fips == "24510" & MRG$type == 'ON-ROAD' , fips == "24510" & grep("[Vv]ehicle", MRG$EI.Sector)) )
EX4 <-MRG %>% filter((fips == "24510" & MRG$type == 'ON-ROAD') | (fips == "24510" & grep("[Vv]ehicle", MRG$EI.Sector)) )
EX4 <-MRG %>% filter((fips == "24510" & MRG$type == 'ON-ROAD') | (fips == "24510" & grepl("[Vv]ehicle", MRG$EI.Sector)) )
unique (EX4$type)
EX4 <-MRG %>% filter( (fips == "24510" & grepl("[Vv]ehicle", MRG$EI.Sector)) )
unique (EX4$type)
unique (EX4$year)
g <- ggplot( aes(EX4$year, EX4$Emissions)) +
geom_point ( lwd = 4 ) +
geom_line (    )
library(ggplot2)
library(ggplot2)
g <- ggplot( aes(EX4$year, EX4$Emissions))
as.data.frame(EX4)
g <- ggplot( aes(EX4$year, EX4$Emissions))
EX4 <-MRG %>% filter( (fips == "24510" & grepl("[Vv]ehicle", MRG$EI.Sector))) %>% group_by(year) %>% sumarize (sum(Emissions))
EX4 <-MRG %>% filter( (fips == "24510" & grepl("[Vv]ehicle", MRG$EI.Sector))) %>% group_by(year) %>% summarize (sum(Emissions))
ex4
EX4
colnames(EX4) <- c("Year", "Total Emmisions")
EX4
g <- ggplot(EX4)
g + geom_point(lwd = 4)
g + geom_point(Year, `Total Emmisions`, lwd = 4)
g + geom_point(aes(EX4$Year, EX4$`Total Emmisions`), lwd = 4)
g + geom_point(aes( Year,  `Total Emmisions`), lwd = 4)
g + geom_point(aes( Year,  `Total Emmisions`), lwd = 4, col = "red")
g + geom_line(aes( Year,  `Total Emmisions`), col ="green")
g + geom_point(aes( Year,  `Total Emmisions`), lwd = 4, col = "red")+ geom_line(aes( Year,  `Total Emmisions`), col ="green")
g + geom_text( x = Year,  y =`Total Emmisions`, label = `Total Emmisions`)
g + geom_text( x = EX4$Year,  y =EX4$`Total Emmisions`, label = EX4$`Total Emmisions`)
g <- ggplot(EX4)
g + geom_line(aes( Year,  `Total Emmisions`), col ="green") +
geom_point(aes( Year,  `Total Emmisions`), lwd = 4, col = "red") +
geom_text(aes(label = `Total Emmisions`), hjust = 0.5,  vjust = -1) +
labs( x= "years", y = "Emissions") +
ggtitle( "Emissions from motor vehicle in Baltimore City")
g <- ggplot(EX4)
g + geom_line(aes( Year,  `Total Emmisions`), col ="green") +
geom_point(aes( Year,  `Total Emmisions`), lwd = 4, col = "red")
g <- ggplot(EX4)
g + geom_line(aes( Year,  `Total Emmisions`), col ="green") +
geom_point(aes( Year,  `Total Emmisions`), lwd = 4, col = "red") +
geom_text(aes(label = `Total Emmisions`), hjust = 0.5,  vjust = -1)
g <- ggplot(EX4)
g + geom_line(aes( Year,  `Total Emmisions`), col ="green") +
geom_point(aes( Year,  `Total Emmisions`), lwd = 4, col = "red") +
geom_text(aes(label = `Total Emmisions`), hjust = 0.5,  vjust = -1)
g <- ggplot(EX4)
g + geom_line(aes( Year,  `Total Emmisions`), col ="green") +
geom_point(aes( Year,  `Total Emmisions`), lwd = 4, col = "red") +
geom_text(aes(label = "hola"), hjust = 0.5,  vjust = -1)
g + geom_line(aes( Year,  `Total Emmisions`), col ="green") +
geom_point(aes( Year,  `Total Emmisions`), lwd = 4, col = "red") +
geom_text(aes(Year,  `Total Emmisions`, label = "hola"), hjust = 0.5,  vjust = -1)
g <- ggplot(EX4)
g + geom_line(aes( Year,  `Total Emmisions`), col ="green") +
geom_point(aes( Year,  `Total Emmisions`), lwd = 4, col = "red") +
geom_text(aes(Year,  `Total Emmisions`, label = `Total Emmisions`, hjust = 0.5,  vjust = -1)
g <- ggplot(EX4)
g + geom_line(aes( Year,  `Total Emmisions`), col ="green") +
geom_point(aes( Year,  `Total Emmisions`), lwd = 4, col = "red") +
geom_text(aes(Year,  `Total Emmisions`, label = `Total Emmisions`, hjust = 0.5,  vjust = -1)
g <- ggplot(EX4)
g + geom_line(aes( Year,  `Total Emmisions`), col ="green") +
geom_point(aes( Year,  `Total Emmisions`), lwd = 4, col = "red") +
geom_text(aes(Year,  `Total Emmisions`, label = `Total Emmisions`, hjust = 0.5,  vjust = -1)
g <- ggplot(EX4)
g + geom_line(aes( Year,  `Total Emmisions`), col ="green") +
geom_point(aes( Year,  `Total Emmisions`), lwd = 4, col = "red") +
geom_text(aes(Year,  `Total Emmisions`, label = `Total Emmisions`), hjust = 0.5,  vjust = -1)
g <- ggplot(EX4)
g + geom_line(aes( Year,  `Total Emmisions`), col ="green") +
geom_point(aes( Year,  `Total Emmisions`), lwd = 4, col = "red") +
geom_text(aes(Year,  `Total Emmisions`, label = round(`Total Emmisions`), hjust = 0.5,  vjust = -1)
g <- ggplot(EX4)
g + geom_line(aes( Year,  `Total Emmisions`), col ="green") +
geom_point(aes( Year,  `Total Emmisions`), lwd = 4, col = "red") +
geom_text(aes(Year,  `Total Emmisions`, label = round(`Total Emmisions`), hjust = 0.5,  vjust = -1)
g <- ggplot(EX4)
g + geom_line(aes( Year,  `Total Emmisions`), col ="green") +
geom_point(aes( Year,  `Total Emmisions`), lwd = 4, col = "red") +
geom_text(aes(Year,  `Total Emmisions`, label = round(`Total Emmisions`)), hjust = 0.5,  vjust = -1)
g <- ggplot(EX4)
g + geom_line(aes( Year,  `Total Emmisions`), col ="green") +
geom_point(aes( Year,  `Total Emmisions`), lwd = 4, col = "red") +
geom_text(aes(Year,  `Total Emmisions`, label = round(`Total Emmisions`,digits = 1)), hjust = 0.5,  vjust = -1)
g <- ggplot(EX4)
g + geom_line(aes( Year,  `Total Emmisions`), col ="green") +
geom_point(aes( Year,  `Total Emmisions`), lwd = 4, col = "red") +
geom_text(aes(Year,  `Total Emmisions`, label = round(`Total Emmisions`,digits = 1)), hjust = 0.5,  vjust = -1)
library(dplyr)
library(ggplot2)
png("Plot5.png")
NEI  <- nei()
SCC  <- scc()
MRG <- merge(NEI, SCC, by = "SCC")
EX4 <-MRG %>% filter( (fips == "24510" & grepl("[Vv]ehicle", MRG$EI.Sector))) %>% group_by(year) %>% summarize (sum(Emissions))
colnames(EX4) <- c("Year", "Total Emmisions")
g <- ggplot(EX4)
g + geom_line(aes( Year,  `Total Emmisions`), col ="green") +
geom_point(aes( Year,  `Total Emmisions`), lwd = 4, col = "red") +
geom_text(aes(Year,  `Total Emmisions`, label = round(`Total Emmisions`,digits = 1)), hjust = 0.5,  vjust = -1) +
labs( x= "years", y = "Emissions") +
ggtitle( "Emissions from motor vehicle in Baltimore City")
dev.off()
View(head(MRG))
EX5 <-MRG %>% filter( (fips == "24510" | fips == "06037") & grepl("[Vv]ehicle", MRG$EI.Sector))) %>% group_by(year, fips) %>% summarize (sum(Emissions))
colnames(EX4) <- c("Year", "Total Emmisions")
EX5 <-MRG %>% filter( (fips == "24510" | fips == "06037") & grepl("[Vv]ehicle", MRG$EI.Sector))) %>% group_by(year, fips) %>% summarize (sum(Emissions))
EX5 <-MRG %>% filter( (fips == "24510" | fips == "06037") & grepl("[Vv]ehicle", MRG$EI.Sector)) %>% group_by(year, fips) %>% summarize (sum(Emissions))
exr5
EX5
EX5$cyty <- if (EX5$fips == "24510" ) {"Baltimore"} else {"Los Angeles"}
EX5
source("~/GitHub/Course_Project_2/SourceCode.R")
View(xx)
NEI  <- nei()
SCC  <- scc()
MRG <- merge(NEI, SCC, by = "SCC")
EX6 <-MRG %>% filter( (fips == "24510" | fips == "06037") & grepl("[Vv]ehicle", MRG$EI.Sector)) %>% group_by(year, fips) %>% summarize (Emissions = sum(Emissions)) %>% mutate (County = case_when(fips == "24510" ~ "Baltimore City", fips == "06037" ~ "Los Angeles County" )) %>% select(year, Emissions, County )
g <- ggplot(EX6, aes(year, Emissions))
g + geom_line()
library(dplyr)
library(ggplot2)
library(dplyr)
library(ggplot2)
EX6 <-MRG %>% filter( (fips == "24510" | fips == "06037") & grepl("[Vv]ehicle", MRG$EI.Sector)) %>% group_by(year, fips) %>% summarize (Emissions = sum(Emissions)) %>% mutate (County = case_when(fips == "24510" ~ "Baltimore City", fips == "06037" ~ "Los Angeles County" )) %>% select(year, Emissions, County )
g <- ggplot(EX6, aes(year, Emissions))
g + geom_line()
g <- ggplot(EX6, aes(year, Emissions, color= County))
g + geom_line()
geom_point( lwd = 4)
g <- ggplot(EX6, aes(year, Emissions, color= County)) + geom_line() +geom_point( lwd = 4)
g <- ggplot(EX6, aes(year, Emissions, color= County)) + geom_line() + geom_point( lwd = 7)
g <- ggplot(EX6, aes(year, Emissions, color= County))
g <- ggplot(EX6, aes(year, Emissions, color= County)) +  geom_point( lwd = 7)
g <- ggplot(EX6, aes(year, Emissions   )) +  geom_point( lwd = 7)
g <- ggplot(EX6, aes(year, Emissions))
g + geom_line()
g <- ggplot(EX6, aes(year, Emissions   )) +  geom_point( lwd = 7)
g <- ggplot(EX6, aes(year, Emissions, color= County))
g + geom_line()
g + geom_text(aes(label = round(Emissions,digits = 1)), hjust = 0.5,  vjust = -1)
g <- ggplot(EX6, aes(year, Emissions, color= County))
g + geom_line()  +
geom_text(aes(label = round(Emissions,digits = 1)), hjust = 0.5,  vjust = -1) +
labs( x= "years", y = "Emissions") +
ggtitle( "Emissions Baltimore City vs Los Angeles County")
g <- ggplot(EX6, aes(year, Emissions, color= County))
g + geom_line()  +
geom_text(aes(label = round(Emissions,digits = 1)), hjust = 0.5,  vjust = -5) +
labs( x= "years", y = "Emissions") +
ggtitle( "Emissions Baltimore City vs Los Angeles County")
g <- ggplot(EX6, aes(year, Emissions, color= County))
g + geom_line()  +
geom_text(aes(label = round(Emissions,digits = 1)), hjust = 0.5,  vjust = 2) +
labs( x= "years", y = "Emissions") +
ggtitle( "Emissions Baltimore City vs Los Angeles County")
g <- ggplot(EX6, aes(year, Emissions, color= County))
g + geom_line()  +
geom_text(aes(label = round(Emissions,digits = 1)), hjust = 0.5,  vjust = 1) +
labs( x= "years", y = "Emissions") +
ggtitle( "Emissions Baltimore City vs Los Angeles County")
g <- ggplot(EX6, aes(year, Emissions, color= County))
g + geom_line()  + geom_point() +
geom_text(aes(label = round(Emissions,digits = 1)), hjust = 0.5,  vjust = 1) +
labs( x= "years", y = "Emissions") +
ggtitle( "Emissions Baltimore City vs Los Angeles County")
g <- ggplot(EX6, aes(year, Emissions, color= County))
g + geom_line()  + geom_point(lwd = 4) +
geom_text(aes(label = round(Emissions,digits = 1)), hjust = 0.5,  vjust = 1) +
labs( x= "years", y = "Emissions") +
ggtitle( "Emissions Baltimore City vs Los Angeles County")
g <- ggplot(EX6, aes(year, Emissions, color= County))
g + geom_line()  + ylim(0, 4700) + geom_point(lwd = 4) +
geom_text(aes(label = round(Emissions,digits = 1)), hjust = 0.5,  vjust = 2) +
labs( x= "years", y = "Emissions") +
ggtitle( "Emissions Baltimore City vs Los Angeles County")
g <- ggplot(EX6, aes(year, Emissions, color= County))
g + geom_line()  + ylim(0, 4700) + geom_point(lwd = 4) +
geom_text(aes(label = round(Emissions,digits = 1)), hjust = 0.5,  vjust = -1) +
labs( x= "years", y = "Emissions") +
ggtitle( "Emissions Baltimore City vs Los Angeles County")
g <- ggplot(EX6, aes(year, Emissions, color= County))
g + geom_line()  + ylim(0, 4700) + geom_point(lwd = 4) +
geom_text(aes(label = round(Emissions,digits = 1)), hjust = 0,  vjust = -1) +
labs( x= "years", y = "Emissions") +
ggtitle( "Emissions Baltimore City vs Los Angeles County")
g <- ggplot(EX6, aes(year, Emissions, color= County))
g + geom_line()  + ylim(0, 4700) + geom_point(lwd = 4) +
geom_text(aes(label = round(Emissions,digits = 1)), hjust = 0.25,  vjust = -1) +
labs( x= "years", y = "Emissions") +
ggtitle( "Emissions Baltimore City vs Los Angeles County")
g <- ggplot(EX6, aes(year, Emissions, color= County))
g + geom_line()  + ylim(0, 4700)+ xlim(1999, 2009) + geom_point(lwd = 4) +
geom_text(aes(label = round(Emissions,digits = 1)), hjust = 0.25,  vjust = -1) +
labs( x= "years", y = "Emissions") +
ggtitle( "Emissions Baltimore City vs Los Angeles County")
source("~/GitHub/Course_Project_2/Plot6.R")
library(dplyr)
library(ggplot2)
png("Plot6.png")
NEI  <- nei()
SCC  <- scc()
MRG <- merge(NEI, SCC, by = "SCC")
EX6 <-MRG %>% filter( (fips == "24510" | fips == "06037") & grepl("[Vv]ehicle", MRG$EI.Sector)) %>% group_by(year, fips) %>% summarize (Emissions = sum(Emissions)) %>% mutate (County = case_when(fips == "24510" ~ "Baltimore City", fips == "06037" ~ "Los Angeles County" )) %>% select(year, Emissions, County )
g <- ggplot(EX6, aes(year, Emissions, color= County))
g + geom_line()  + ylim(0, 4700)+ xlim(1999, 2009) + geom_point(lwd = 4) +
geom_text(aes(label = round(Emissions,digits = 1)), hjust = 0.25,  vjust = -1) +
labs( x= "years", y = "Emissions") +
ggtitle( "Emissions Baltimore City vs Los Angeles County")
dev.off()
source("~/GitHub/Course_Project_2/Plot6.R")
